<main class="gallery-section">
  <!-- Category: Fences -->
  <div class="category">
    <h2>Płoty</h2>
    <div class="subcategory gallery-grid">
      <a href="#klasyczne"
        ><img
          src="../img/photogallery/fence/classic/0.png"
          alt="Classic photo"
        /><span>Klasyczne</span></a
      >
      <a href="#nowoczesne"
        ><img
          src="../img/photogallery/fence/modern/0.png"
          alt="Modern photo"
        /><span>Nowoczesne</span></a
      >
      <a href="#plastikowe"
        ><img
          src="../img/photogallery/fence/plastic/0.png"
          alt="Plastic photo"
        /><span>Plastikowe</span></a
      >
      <a href="#wpc"
        ><img src="../img/photogallery/fence/wpc/0.jpg" alt="WPC photo" /><span
          >WPC</span
        ></a
      >
      <a href="#cnc"
        ><img src="../img/photogallery/fence/cnc/0.jpg" alt="CNC photo" /><span
          >CNC</span
        ></a
      >
      <a href="#beton"
        ><img
          src="../img/photogallery/fence/concrete/0.jpg"
          alt="Concrete photo"
        /><span>Beton</span></a
      >
    </div>
  </div>

  <!-- Other Categories -->
  <div class="category">
    <h2>Pozostałe</h2>
    <div class="subcategory gallery-grid two-columns-grid">
      <a href="#bramy"
        ><img src="../img/photogallery/gates/0.png" alt="Gate photo" /><span
          >Bramy i furtki</span
        ></a
      >
      <a href="#balustrady"
        ><img
          src="../img/photogallery/balustrade/0.png"
          alt="Balustrade photo"
        /><span>Balustrady</span></a
      >
      <a href="#maty"
        ><img src="../img/photogallery/meshes/0.png" alt="Mesh photo" /><span
          >Maty prętowane</span
        ></a
      >
      <a href="#inne"
        ><img src="../img/photogallery/others/0.png" alt="Others photo" /><span
          >Inne</span
        ></a
      >
    </div>
  </div>

  <!-- Modal Carousel -->
  <div id="gallery-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="carousel">
        <button class="prev">&#10094;</button>
        <img id="carousel-image" src="" alt="Gallery Image" />
        <button class="next">&#10095;</button>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const galleryItems = document.querySelectorAll(".gallery-item");
      const modal = document.getElementById("gallery-modal");
      const carouselImage = document.getElementById("carousel-image");
      const closeModal = document.querySelector(".close");
      const prevBtn = document.querySelector(".prev");
      const nextBtn = document.querySelector(".next");

      let images = [];
      let currentIndex = 0;

      galleryItems.forEach((item) => {
        item.addEventListener("click", (event) => {
          event.preventDefault();
          const category = item.getAttribute("data-category");

          images = loadImages(category);
          if (images.length > 0) {
            currentIndex = 0;
            updateCarousel();
            modal.classList.remove("hidden");
          }
        });
      });

      closeModal.addEventListener("click", () => {
        modal.classList.add("hidden");
      });

      prevBtn.addEventListener("click", () => {
        if (currentIndex > 0) {
          currentIndex--;
          updateCarousel();
        }
      });

      nextBtn.addEventListener("click", () => {
        if (currentIndex < images.length - 1) {
          currentIndex++;
          updateCarousel();
        }
      });

      function loadImages(category) {
        let imageList = [];
        for (let i = 0; i < 5; i++) {
          let imgPath = `../img/photogallery/${category}/${i}.png`;
          imageList.push(imgPath);
        }
        return imageList;
      }

      function updateCarousel() {
        carouselImage.src = images[currentIndex];
      }
    });
  </script>
</main>
